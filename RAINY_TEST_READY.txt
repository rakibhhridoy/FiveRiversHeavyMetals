================================================================================
RAINY SEASON ALPHAEARTH TEST - READY TO EXECUTE
================================================================================

CHECKLIST - IMPLEMENTATION VERIFIED âœ…
================================================================================

Data Files:
  âœ… Option_B_RainyAE.csv created (72 features: 8 original + 64 AlphaEarth)
  âœ… Option_B_WinterAE.csv created (for future winter tests)

Notebooks Enhanced:
  âœ… AlphaEarth config cell added (Cell 3)
  âœ… ALPHA_EARTH_OPTION = 'B' configured
  âœ… CSV file loading code in place
  âœ… All 5 rainy models ready

Execution Scripts:
  âœ… run_top5_alphaearth.sh - Simplified shell commands
  âœ… RUN_ALPHAEARTH_TOP5.py - Python orchestration
  âœ… Both configured for Option B only

Top 5 Rainy Models Ready:
  âœ… Transformer CNN GNN MLP (RÂ² 0.9604) â­ BEST
  âœ… GNN MLP AE (RÂ² 0.9581)
  âœ… CNN GNN MLP PG (RÂ² 0.957)
  âœ… GNN MLP (RÂ² 0.9519)
  âœ… Stacked CNN GNN MLP (RÂ² 0.924)

================================================================================
TO RUN QUICK TEST (2-4 HOURS)
================================================================================

Step 1: Install dependencies (if needed)
   cd /Users/rakibhhridoy/Five_Rivers/
   python3 -m pip install jupyter tensorflow scikit-learn

Step 2: Run the quick test
   ./run_top5_alphaearth.sh test

Step 3: Monitor execution
   â€¢ Look for [INFO] messages with progress
   â€¢ Wait for "Model completed" message
   â€¢ Check metrics output

Step 4: Review results
   â€¢ Check RÂ² score (should be ~0.9604 or higher)
   â€¢ Check RMSE (should be ~15.74 or lower)
   â€¢ Check feature importance rankings

Step 5 (Optional): Run all 5 models
   ./run_top5_alphaearth.sh rainy-b
   (Takes ~10-20 hours for all 5)

================================================================================
WHAT WILL HAPPEN
================================================================================

The test will:

1. Load Option_B_RainyAE.csv (original features + 64 AlphaEarth bands)
2. Create CNN patches from spatial features (89 channels)
3. Prepare MLP features (tabular data)
4. Build GNN adjacency matrix
5. Train Transformer CNN GNN MLP model
6. Run 5-fold cross-validation
7. Calculate performance metrics:
   - RÂ² (coefficient of determination)
   - RMSE (root mean squared error)
   - MAE (mean absolute error)
   - SMAPE (symmetric mean absolute percentage error)
8. Compute feature importance (LIME + Permutation)
9. Generate prediction visualizations
10. Save trained model weights

Expected duration: 2-4 hours on Mac M1 Pro

================================================================================
EXPECTED RESULTS
================================================================================

Baseline (without AlphaEarth):
   RÂ² = 0.9604
   RMSE = 15.74
   MAE = 13.26
   SMAPE = 9.52%

Expected with Option B:
   RÂ² â‰ˆ 0.9650-0.9670 (+0.5-0.7% improvement)
   RMSE â‰ˆ 15.2-15.4 (lower is better)
   MAE â‰ˆ 12.8-13.0 (lower is better)
   SMAPE â‰ˆ 9.0-9.2% (lower is better)

Success criteria:
   âœ“ RÂ² > 0.9604 (maintains or exceeds baseline)
   âœ“ Model trains without errors
   âœ“ Metrics are generated
   âœ“ Feature importance is computed

================================================================================
FILE LOCATIONS
================================================================================

Input Data:
   /gis/SedimentRainyAE/Option_B_RainyAE.csv

Notebooks:
   /gis/SedimentRainyAE/Transformer CNN GNN MLP.ipynb (main test)
   /gis/SedimentRainyAE/[4 other top5 models].ipynb

Outputs:
   /gis/SedimentRainyAE/FeatureImportance/          (feature rankings)
   /gis/SedimentRainyAE/models/                     (saved models)
   Notebook cells (metrics in execution output)

================================================================================
CONFIGURATION SUMMARY
================================================================================

Data Integration (Option B):
  âœ“ Keeps all original features (25 bands)
  âœ“ Adds 64 AlphaEarth satellite embeddings
  âœ“ Total: ~89 CNN channels
  âœ“ Richer spatial context
  âœ“ Cloud-robust representation

Model Architecture:
  âœ“ CNN: Processes spatial patches (89 channels)
  âœ“ MLP: Processes tabular features
  âœ“ GNN: Processes spatial adjacency
  âœ“ Transformer: Fuses all three modalities
  âœ“ Multi-head attention for feature fusion

Training Configuration:
  âœ“ 5-fold cross-validation
  âœ“ Batch size: 32 (configurable if memory issues)
  âœ“ Epochs: 100+ (early stopping)
  âœ“ Optimizer: Adam
  âœ“ Loss: MSE (mean squared error)

================================================================================
TROUBLESHOOTING
================================================================================

If something goes wrong:

1. "Module not found" error
   â†’ Solution: pip install [module_name]
   â†’ Common: jupyter tensorflow scikit-learn keras

2. "Option_B_RainyAE.csv not found"
   â†’ Solution: Verify file exists in /gis/SedimentRainyAE/
   â†’ Run: ls /Users/rakibhhridoy/Five_Rivers/gis/SedimentRainyAE/*.csv

3. Memory/Timeout error
   â†’ Solution: Reduce batch size in notebook (32 â†’ 16)
   â†’ Or: Use Option C (fewer features) instead of B

4. Slow execution on Mac M1
   â†’ Normal - TensorFlow on M1 is slower than GPU
   â†’ Use Metal Performance Shaders for optimization
   â†’ Run: pip install tensorflow-metal

5. Jupyter execution hangs
   â†’ Solution: Restart kernel in notebook
   â†’ Or: Run using command line: jupyter nbconvert --execute

================================================================================
SUCCESS INDICATORS
================================================================================

You'll know it's working when you see:

âœ“ [2025-12-26 HH:MM:SS] [INFO] Starting AlphaEarth Top 5 Models Analysis
âœ“ [2025-12-26 HH:MM:SS] [INFO] Checking prerequisites...
âœ“ [2025-12-26 HH:MM:SS] [INFO] âœ“ All prerequisites satisfied
âœ“ [2025-12-26 HH:MM:SS] [INFO] Running rainy Transformer CNN GNN MLP...
âœ“ [2025-12-26 HH:MM:SS] [INFO] âœ“ Model completed (XXXX seconds)

Final output should show:
  - RÂ² Score: ~0.96 or higher
  - RMSE: < 16.00
  - Cross-validation results
  - Feature importance rankings
  - Model saved successfully

================================================================================
NEXT STEPS AFTER TEST
================================================================================

If test is successful:

1. Run all 5 rainy models:
   ./run_top5_alphaearth.sh rainy-b

2. Run winter season (for comparison):
   ./run_top5_alphaearth.sh winter-b

3. Create comparison table:
   Compare RÂ² and RMSE across:
   - 5 rainy models
   - 5 winter models
   - Identify best performer
   - Calculate improvement % from baseline

4. Update article:
   - Add AlphaEarth methodology section
   - Report performance improvements
   - Add comparative results table
   - Update references

5. Prepare for publication:
   - Write results section with findings
   - Create visualization of improvements
   - Prepare supplementary materials

================================================================================
SUPPORT
================================================================================

Issues or questions:

1. Check the notebook cell outputs directly
   â†’ Open in Jupyter and look at cell execution results

2. Check log output
   â†’ Look for [ERROR] or [WARNING] messages
   â†’ These indicate what went wrong

3. Verify data loading
   â†’ Notebook cell 3+ should print:
     "Loaded Option_B_RainyAE.csv: (samples, features)"

4. Check feature dimensions
   â†’ Should report ~72 total features
   â†’ Including 64 AlphaEarth bands

================================================================================

READY TO TEST!

Command to execute:
   cd /Users/rakibhhridoy/Five_Rivers/
   ./run_top5_alphaearth.sh test

Expected duration: 2-4 hours

Let's see how well Option B improves your model! ðŸš€

================================================================================
Created: December 26, 2025
Status: âœ… IMPLEMENTATION COMPLETE & VERIFIED
Next: Run the test!
================================================================================
